<!DOCTYPE html>
<!-- 
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.1.1
Version: 2.0.2
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->

<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->

<!-- Head BEGIN -->
<head>
  <meta charset="utf-8">
  <title>注册</title>

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


  <link rel="shortcut icon" href="favicon.ico">
  <link href="/favicon.ico" rel="SHORTCUT ICON" type="image/ico">

  <!-- Fonts START -->
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans+Narrow&subset=all" rel="stylesheet" type="text/css">
  <!-- Fonts END -->

  <!-- Global styles START -->       
 <link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css">
  <link href="assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <!-- Global styles END --> 
   
  <!-- Page level plugin styles START -->
  <link href="assets/plugins/fancybox/source/jquery.fancybox.css" rel="stylesheet">
  <link href="assets/plugins/bxslider/jquery.bxslider.css" rel="stylesheet">
  <link href="assets/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
  <!-- Page level plugin styles END -->

  <!-- Theme styles START -->
  <link href="assets/css/style-metronic.css" rel="stylesheet" type="text/css">
  <link href="assets/css/style.css" rel="stylesheet" type="text/css">
  <link href="assets/css/style-responsive.css" rel="stylesheet" type="text/css">  
  <link href="assets/css/custom.css" rel="stylesheet" type="text/css">
  <!-- Theme styles END -->
</head>
<!-- Head END -->

<!-- Body BEGIN -->
<body>
    <!-- BEGIN TOP BAR -->
    <div class="pre-header">
		<div class="container">
			<div class="row">
				<!-- BEGIN TOP BAR LEFT PART -->
				<div class="col-md-6 col-sm-6 additional-shop-info">
					<ul class="list-unstyled list-inline">
						<li><i class="fa fa-phone"></i><span>18654367543</span></li>


					</ul>
				</div>
				<!-- END TOP BAR LEFT PART -->
				<!-- BEGIN TOP BAR MENU -->
				<div class="col-md-6 col-sm-6 additional-nav">
					<ul class="list-unstyled list-inline pull-right" id="showtip">

						
					</ul>
				</div>
				<!-- END TOP BAR MENU -->
			</div>
		</div>
	</div>
    <!-- END TOP BAR -->

    <!-- BEGIN HEADER -->
    <div role="navigation" class="navbar header no-margin">
		<div class="container">
			<div class="navbar-header">
				<!-- BEGIN RESPONSIVE MENU TOGGLER -->
				<button data-target=".navbar-collapse" data-toggle="collapse"
					class="navbar-toggle" type="button">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<!-- END RESPONSIVE MENU TOGGLER -->
				<a href="#" class="navbar-brand"><img
					src="assets/img/logo_sc.png" width="300" alt="选你所选"></a>
				<!-- LOGO -->
			</div>
			<!-- BEGIN CART -->

			<!-- END CART -->
			<!-- BEGIN NAVIGATION -->
			<div class="collapse navbar-collapse mega-menu">
				<ul class="nav navbar-nav">
					<li class="dropdown">
						<!-- BEGIN DROPDOWN MENU -->
						<form action="#">
							<div class="input-group"
								style="width: 500px; padding-top: 30px; padding-bottom: 30px;">
								<input type="text" placeholder="Search" class="form-control">
								<span class="input-group-btn">
									<button class="btn btn-primary" type="submit">Search</button>
								</span>
							</div>
						</form> <!-- END DROPDOWN MENU -->
					</li>

					<li class="menu-search">

						<div class="search-box"></div>
					</li>
					<!-- END TOP SEARCH -->
				</ul>
			</div>
			<!-- END NAVIGATION -->
		</div>
	</div>
    <!-- END HEADER -->

    <div class="main">
      <div class="container">
        <ul class="breadcrumb">
            <li><a href="product-list.html">主页</a></li>
            
            <li class="active">创建账号</li>
        </ul>
        <!-- BEGIN SIDEBAR & CONTENT -->
        <div class="row margin-bottom-40">
          <!-- BEGIN SIDEBAR -->
          <div class="sidebar col-md-2 col-sm-2">
            
          </div>
          <!-- END SIDEBAR -->

          <!-- BEGIN CONTENT -->
          <div class="col-md-9 col-sm-9">
            <h1>创建账号</h1>
            <div class="content-form-page">
              <div class="row">
                <div class="col-md-7 col-sm-7">
                  <form class="form-horizontal" id="formdata" role="form">
                    <fieldset>
                      <legend>个人详细信息</legend>
                      
                      <div class="form-group">
                        <label for="lastname" class="col-lg-4 control-label">姓名/登录账号 <span class="require">*</span></label>
                        <div class="col-lg-8">
                          <input type="text" class="form-control" name="name" id="username" ><br>
                          <p id="accontMsg" style="color:red"></p>
                        </div>
                        
                      </div>
                      <div class="form-group">
                        <label for="email" class="col-lg-4 control-label">邮件 <span class="require">*</span></label>
                        <div class="col-lg-8">
                          <input type="text" class="form-control" id="email" name="email"><br>
                          <p id="emailMsg" style="color:red"></p>
                        </div>
                      </div>
                    </fieldset>
                    <fieldset>
                      <legend>密码</legend>
                      <div class="form-group">
                        <label for="password" class="col-lg-4 control-label">密码 <span class="require">*</span></label>
                        <div class="col-lg-8">
                          <input type="text" class="form-control" id="password" name="password"><br>
                          <p id="passwordMsg" style="color:red"></p>
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="confirm-password" class="col-lg-4 control-label">确认密码 <span class="require">*</span></label>
                        <div class="col-lg-8">
                          <input type="text" class="form-control" id="confirm-password"><br>
                          <p id="confirmMsg" style="color:red"></p>
                        </div>
                      </div>
                    </fieldset>
                    <fieldset>
                      
                    </fieldset>
                    <div class="row">
                      <div class="col-lg-8 col-md-offset-4 padding-left-0 padding-top-20">                        
                        <button type="button" onclick="register()" class="btn btn-primary">注册</button>
                        <a type="button" href="login-page.html" class="btn btn-default">去登录</a>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col-md-4 col-sm-4 pull-right">
                  <div class="form-info">
                    <h2><em>注册账号须知</em> </h2>
                    <p>由于系统会检测账号的唯一性，所以您注册的账号唯一，不会出现重名，使用此账号登录即可</p>

                    <p>为了保证您账号安全，在您使用完系统退出时记得点击右上角退出按钮！</p>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- END CONTENT -->
        </div>
        <!-- END SIDEBAR & CONTENT -->
      </div>
    </div>

    

    

    
    <!-- END PRE-FOOTER -->

    <!-- BEGIN FOOTER -->
    <div class="footer padding-top-15">
      <div class="container">
        <div class="row">
          <!-- BEGIN COPYRIGHT -->
          <div class="col-md-6 col-sm-6 padding-top-10">
            2018 © 东北林业大学 
          </div>
          <!-- END COPYRIGHT -->
          <!-- BEGIN PAYMENTS -->
          <div class="col-md-6 col-sm-6">
            <ul class="list-unstyled list-inline pull-right margin-bottom-15">
              <li><img src="assets/img/payments/western-union.jpg" alt="We accept Western Union" title="We accept Western Union"></li>
              <li><img src="assets/img/payments/american-express.jpg" alt="We accept American Express" title="We accept American Express"></li>
              <li><img src="assets/img/payments/MasterCard.jpg" alt="We accept MasterCard" title="We accept MasterCard"></li>
              <li><img src="assets/img/payments/PayPal.jpg" alt="We accept PayPal" title="We accept PayPal"></li>
              <li><img src="assets/img/payments/visa.jpg" alt="We accept Visa" title="We accept Visa"></li>
            </ul>
          </div>
          <!-- END PAYMENTS -->
        </div>
      </div>
    </div>
    <!-- END FOOTER -->

    <!-- Load javascripts at bottom, this will reduce page load time -->
    <!-- BEGIN CORE PLUGINS (REQUIRED FOR ALL PAGES) -->
    <!--[if lt IE 9]>
    <script src="assets/plugins/respond.min.js"></script>  
    <![endif]-->  
    <script src="assets/plugins/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="assets/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>      
    <script type="text/javascript" src="assets/plugins/back-to-top.js"></script>   
    <script type="text/javascript" src="assets/plugins/jQuery-slimScroll/jquery.slimscroll.min.js"></script> 
    <!-- END CORE PLUGINS -->

    <!-- BEGIN PAGE LEVEL JAVASCRIPTS (REQUIRED ONLY FOR CURRENT PAGE) -->
    <script type="text/javascript" src="assets/plugins/fancybox/source/jquery.fancybox.pack.js"></script><!-- pop up -->
    <script type="text/javascript" src="assets/plugins/bxslider/jquery.bxslider.min.js"></script><!-- slider for products -->
    <script src="assets/plugins/uniform/jquery.uniform.min.js" type="text/javascript" ></script>

    <script type="text/javascript" src="assets/scripts/app.js"></script>   
    <script type="text/javascript" src="assets/scripts/userinfo.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function() {
            App.init();
            App.initUniform();
            App.initBxSlider();
        });
        
        $(function(){
        	
        	judgeLogin();
        })
        
        
        function register(){
        	//先是获取所有表单中填写的值
        	var username = $('#username').val();
        	var email = $('#email').val();
        	var password = $('#password').val();
        	var confirm_password = $('#confirm-password').val();
        	
        	var accountMsg = $('#accontMsg');
        	var emailMsg = $('#emailMsg');
        	var passwordMsg = $('#passwordMsg');
        	var confirmMsg = $('#confirmMsg');
        	//首先将错误信息清空
        	accountMsg.text('');
        	emailMsg.text('');
        	passwordMsg.text('');
        	confirmMsg.text('');
        	
        	//alert(username);
        	//alert(email);
        	//alert(password);
        	//alert(confirm_password);
        	
        	var error = 0;
        	//alert("姓名长度："+username.length);
        	if(username == null || username.trim() == '' || username.length < 3 || username.length > 30){
        		//alert("判断账号");
        		accountMsg.text('账号长度3~30');
        		error++;
        	}
        	if(email == null || email.trim() == ''){
        		//alert("判断邮件");
        		emailMsg.text('邮件不能为空');
        		error++;
        	}
        	
        	if(password == null || password.trim() == ''){
        		//alert("判断密码");
        		passwordMsg.text('密码不能为空');
        		error++;
        	}
        	
        	if(confirm_password != password){
        		//alert("判断确认密码");
        		confirmMsg.text('两次密码输入不一致');
        		error++;
        	}
        	//alert($('#formdata').serialize());
        	if(error > 0){
        		//alert("错误较多，返回："+error);
        		return;
        	}
        	
        	//这边进行注册
        	$.ajax({
        		url : 'login/register',
				type : 'POST',
				data : $('#formdata').serialize(),
				dataType : 'json',
				success : function(data) {
					alert(data.msg);
					//将用户名设置到web存储里面
					localStorage.username=data.data;
					window.location.href='product-list.html';
					
				},
				error : function(){
					alert("注册失败");
				}
        	})
        	
        	
        }
        
       
        
        
        
    </script>
    <!-- END PAGE LEVEL JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>